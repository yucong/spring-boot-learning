<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yucong.mapper.UserMapper" >

  <select id="findUsersByRoleId" resultType="java.lang.Long">
  	  SELECT DISTINCT r.id FROM sys_user_role ur INNER JOIN sys_user r ON r.id = ur.user_id WHERE r.locked = false AND ur.role_id = #{roleId}
  </select>
  
  
  
</mapper>